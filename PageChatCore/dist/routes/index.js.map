{"version":3,"sources":["../../src/routes/index.js"],"names":["express","require","router","Router","passport","get","req","res","next","isAuthenticated","redirect","post","authenticate","successRedirect","failureRedirect","failureFlash","logout","session","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,IAAIC,WAAWH,QAAQ,UAAR,CAAf;;AAEA;AACAC,OAAOG,GAAP,CAAW,GAAX,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACtC;AACA,QAAIF,IAAIG,eAAJ,EAAJ,EAA2B;AACvBF,YAAIG,QAAJ,CAAa,QAAb;AACH,KAFD,MAGK,CAEJ;AACJ,CARD;;AAUA;AACAR,OAAOS,IAAP,CAAY,QAAZ,EAAsBP,SAASQ,YAAT,CAAsB,OAAtB,EAA+B;AACjDC,qBAAiB,QADgC;AAEjDC,qBAAiB,GAFgC;AAGjDC,kBAAc;AAHmC,CAA/B,CAAtB;;AAMA;AACAb,OAAOG,GAAP,CAAW,SAAX,EAAsB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC5C;AACAF,QAAIU,MAAJ;AACA;AACAV,QAAIW,OAAJ,GAAc,IAAd;AACA;AACAV,QAAIG,QAAJ,CAAa,GAAb;AACH,CAPD;;AASAQ,OAAOC,OAAP,GAAiBjB,MAAjB","file":"index.js","sourcesContent":["'use strict';\r\n\r\nvar express = require('express');\r\nvar router = express.Router();\r\nvar passport = require('passport');\r\n\r\n// Home page\r\nrouter.get('/', function (req, res, next) {\r\n    // If user is already logged in, then redirect to rooms page\r\n    if (req.isAuthenticated()) {\r\n        res.redirect('/rooms');\r\n    }\r\n    else {\r\n\r\n    }\r\n});\r\n\r\n// Login\r\nrouter.post('/login', passport.authenticate('local', {\r\n    successRedirect: '/rooms',\r\n    failureRedirect: '/',\r\n    failureFlash: true\r\n}));\r\n\r\n// Logout\r\nrouter.get('/logout', function (req, res, next) {\r\n    // remove the req.user property and clear the login session\r\n    req.logout();\r\n    // destroy session data\r\n    req.session = null;\r\n    // redirect to homepage\r\n    res.redirect('/');\r\n});\r\n\r\nmodule.exports = router;"]}