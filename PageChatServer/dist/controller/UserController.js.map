{"version":3,"sources":["../../src/controller/UserController.js"],"names":["express","require","router","Router","logger","User","post","req","res","create","name","body","email","password","err","user","status","send","get","json","code","mgs","data","findById","params","id","delete","findByIdAndRemove","put","findByIdAndUpdate","new","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,IAAIC,SAASH,QAAQ,WAAR,CAAb;AACA,IAAII,OAAOJ,QAAQ,eAAR,CAAX;;AAGA;AACAC,OAAOI,IAAP,CAAY,GAAZ,EAAiB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjCH,SAAKI,MAAL,CAAY;AACJC,cAAMH,IAAII,IAAJ,CAASD,IADX;AAEJE,eAAOL,IAAII,IAAJ,CAASC,KAFZ;AAGJC,kBAAUN,IAAII,IAAJ,CAASE;AAHf,KAAZ,EAKI,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AACjB,YAAID,GAAJ,EAAS,OAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,6DAArB,CAAP;AACTT,YAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,IAArB;AACH,KARL;AASH,CAVD;;AAYA;AACAb,OAAOgB,GAAP,CAAW,QAAX,EAAqB,UAAUX,GAAV,EAAeC,GAAf,EAAoB;AACrC;AACA;AACA;AACA;AACAA,QAAIQ,MAAJ,CAAW,GAAX,EAAgBG,IAAhB,CAAqB;AACjBC,cAAM,CADW;AAEjBC,aAAK,mBAFY;AAGjBC,cAAM;AAHW,KAArB;AAKH,CAVD;;AAYA;AACApB,OAAOgB,GAAP,CAAW,MAAX,EAAmB,UAAUX,GAAV,EAAeC,GAAf,EAAoB;AACnCH,SAAKkB,QAAL,CAAchB,IAAIiB,MAAJ,CAAWC,EAAzB,EAA6B,UAAUX,GAAV,EAAeC,IAAf,EAAqB;AAC9C,YAAID,GAAJ,EAAS,OAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uCAArB,CAAP;AACT,YAAI,CAACF,IAAL,EAAW,OAAOP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gBAArB,CAAP;AACXT,YAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,IAArB;AACH,KAJD;AAKH,CAND;;AAQA;AACAb,OAAOwB,MAAP,CAAc,MAAd,EAAsB,UAAUnB,GAAV,EAAeC,GAAf,EAAoB;AACtCH,SAAKsB,iBAAL,CAAuBpB,IAAIiB,MAAJ,CAAWC,EAAlC,EAAsC,UAAUX,GAAV,EAAeC,IAAf,EAAqB;AACvD,YAAID,GAAJ,EAAS,OAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,wCAArB,CAAP;AACTT,YAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,WAAWF,KAAKL,IAAhB,GAAuB,eAA5C;AACH,KAHD;AAIH,CALD;;AAOA;AACAR,OAAO0B,GAAP,CAAW,MAAX,EAAmB,UAAUrB,GAAV,EAAeC,GAAf,EAAoB;AACnCH,SAAKwB,iBAAL,CAAuBtB,IAAIiB,MAAJ,CAAWC,EAAlC,EAAsClB,IAAII,IAA1C,EAAgD,EAACmB,KAAK,IAAN,EAAhD,EAA6D,UAAUhB,GAAV,EAAeC,IAAf,EAAqB;AAC9E,YAAID,GAAJ,EAAS,OAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,wCAArB,CAAP;AACTT,YAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,IAArB;AACH,KAHD;AAIH,CALD;;AAQAgB,OAAOC,OAAP,GAAiB9B,MAAjB","file":"UserController.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nvar logger = require('../logger');\r\nvar User = require('../model/User');\r\n\r\n\r\n// CREATES A NEW USER\r\nrouter.post('/', function (req, res) {\r\n    User.create({\r\n            name: req.body.name,\r\n            email: req.body.email,\r\n            password: req.body.password\r\n        },\r\n        function (err, user) {\r\n            if (err) return res.status(500).send(\"There was a problem adding the information to the database.\");\r\n            res.status(200).send(user);\r\n        });\r\n});\r\n\r\n// RETURNS ALL THE USERS IN THE DATABASE\r\nrouter.get('/login', function (req, res) {\r\n    // User.find({}, function (err, users) {\r\n    //     if (err) return res.status(500).send(\"There was a problem finding the users.\");\r\n    //     res.status(200).send(users);\r\n    // });\r\n    res.status(200).json({\r\n        code: 1,\r\n        mgs: 'Enjoy your token!',\r\n        data: \"OK\"\r\n    });\r\n});\r\n\r\n// GETS A SINGLE USER FROM THE DATABASE\r\nrouter.get('/:id', function (req, res) {\r\n    User.findById(req.params.id, function (err, user) {\r\n        if (err) return res.status(500).send(\"There was a problem finding the user.\");\r\n        if (!user) return res.status(404).send(\"No user found.\");\r\n        res.status(200).send(user);\r\n    });\r\n});\r\n\r\n// DELETES A USER FROM THE DATABASE\r\nrouter.delete('/:id', function (req, res) {\r\n    User.findByIdAndRemove(req.params.id, function (err, user) {\r\n        if (err) return res.status(500).send(\"There was a problem deleting the user.\");\r\n        res.status(200).send(\"User: \" + user.name + \" was deleted.\");\r\n    });\r\n});\r\n\r\n// UPDATES A SINGLE USER IN THE DATABASE\r\nrouter.put('/:id', function (req, res) {\r\n    User.findByIdAndUpdate(req.params.id, req.body, {new: true}, function (err, user) {\r\n        if (err) return res.status(500).send(\"There was a problem updating the user.\");\r\n        res.status(200).send(user);\r\n    });\r\n});\r\n\r\n\r\nmodule.exports = router;"]}